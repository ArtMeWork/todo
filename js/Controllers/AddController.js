define(["Models/Notes","Controllers/NotifyController","Views/AddView"],function(e,t,n){function r(e){if(e.length<=250&&e.length>0)return!0;throw"Заметка не должна быть пустой или более 250 символов"}function i(e){var t=""+e;return t=t.replace(/\&/gi,"&amp;"),t=t.replace(/\"/gi,"&quot;"),t=t.replace(/\</gi,"&lt;"),t=t.replace(/\>/gi,"&gt;"),t}function s(){window.app={add:function(){var n=i(document.getElementById("newNoteName").value),s={success:!1};try{r(n)&&(s=e.add(n)),s.success?(t.success("Новая заметка успешно добавлена!"),document.getElementById("newNoteName").value=""):t.err(s.error)}catch(o){t.err(o)}return!1}},n.render()}return{start:s}});